[
  {
    "type": "php",
    "functions": [
      "init",
      "admin_print_scripts",
      "get_form",
      "emp_booking_user_fields",
      "validate",
      "output_field",
      "em_bookings_table_rows_col",
      "em_bookings_table_cols_template",
      "em_booking_get_person_editor",
      "em_booking_get_person_post",
      "em_person_display_summary",
      "get_user_meta",
      "update_user_meta",
      "show_profile_fields",
      "save_profile_fields",
      "save_profile_fields_errors",
      "admin_page_actions",
      "admin_page",
      "show_reg_fields",
      "data_privacy_exporters",
      "data_privacy_export_user",
      "data_privacy_export_booking",
      "em_booking_get_person"
    ],
    "classes": [
      "EM_User_Fields"
    ],
    "comments": [
      "//hook for booking form editor",
      "//Booking interception",
      "//WP Dashboard profile page - disable EM user fields and override with our filter",
      "//disable EM user fields and override with our filter",
      "//admin area additions",
      "//booking no-user mode functions - editing/saving user data",
      "//only hook in if we're editing a no-user booking",
      "//Booking Table and CSV Export",
      "//Data Privacy - exporting user info saved by user fields or in case of guest user within bookings",
      "//just get an array of options here",
      "//override default regex and error message",
      "//first figure out the type to modify",
      "//now do the overriding",
      "//To prevent double required messages for booking user field with different label to original user field",
      "//validate the original field type",
      "/*\n\t * ----------------------------------------------------------\n\t * Booking Table and CSV Export\n\t * -----------------------------------------------",
      "/**\n\t * Provides values for custom field columns in a bookings table.\n\t * @param string $value\n\t * @param string $col\n\t * @param EM_Booking $EM_Bookin",
      "/*\n\t * ----------------------------------------------------------\n\t* No-User Booking Functions - Edit/Save User Info\n\t* ------------------------------",
      "//if you want to mess with these values, intercept the em_bookings_single_custom instead",
      "//get, store and validate post data",
      "//registration fields",
      "/*\n\t * ----------------------------------------------------------\n\t * Display Functions\n\t * ----------------------------------------------------------",
      "/**\n\t * @param string $summary\n\t * @param EM_Person $EM_Person\n\t * @return string|unknown\n\t */",
      "//a bit of repeated stuff from the original EM_Person::display_summary() static function",
      "//override by registration value in case value is now empty, otherwise show n/a",
      "/*\n\t * ----------------------------------------------------------\n\t * ADMIN Functions\n\t * ----------------------------------------------------------\n\t",
      "/**\n\t * Gets data from the right location according to the field ID provided. For example, user_email (emails) are retreived from the wp_users table w",
      "/**\n\t * Updates data to the right location according to the field ID provided. For example, user_email (emails) are saved to the wp_users table wherea",
      "/**\n\t * Adds phone number to contact info of users, compatible with previous phone field method\n\t * @param $array\n\t * @return array\n\t */",
      "//get post and validate at once",
      "//set up booking form field map and save/retreive previous data",
      "//go through fields and do a little more clenaing up before saving adding them",
      "//prefix all with dbem unless shared fields enabled",
      "//add cleaned field for saving",
      "//a bit excessive but also prevent reserved field ids from being used, only relevant if we have shared fields, since we prefix with dbem_ at the momen",
      "/*\n\t\t\t\t\t\t\t\t\t * if we have a field ID that matches a normal or user core field type, things will screw up during output,\n\t\t\t\t\t\t\t\t\t * validation and opt",
      "//save fields to options and load user form",
      "//enable dbem_bookings_tickets_single_form if enabled",
      "//enable dbem_bookings_tickets_single_form if enabled",
      "//Data Privacy Functions"
    ],
    "length": 22008,
    "preview": "<?php\nclass EM_User_Fields {\n\tpublic static $form;\n\t\n\tpublic static function init(){\n\t\t//Menu/admin page\n\t\tadd_action('admin_init',array('EM_User_Fields', 'admin_page_actions'),9); //before bookings\n\t\tadd_action('emp_forms_admin_page',array('EM_User_",
    "file": "src/code/events-manager-pro/add-ons/user-fields.php"
  }
]